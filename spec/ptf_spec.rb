# -*- coding: utf-8 -*-

require_relative 'spec_helper'

describe 'pentester::ptf' do
  subject { ChefSpec::SoloRunner.new.converge(described_recipe) }

  it 'syncs git[/opt/ptf]' do
    expect(subject).to sync_git('/opt/ptf')
      .with(repository: 'https://github.com/trustedsec/ptf',
            reference: 'master')
  end

  it 'creates template[/opt/ptf/config/ptf.config]' do
    expect(subject).to create_template('/opt/ptf/config/ptf.config')
      .with(source: 'ptf.config.erb')
  end
end
