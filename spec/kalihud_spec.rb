# -*- coding: utf-8 -*-

require_relative 'spec_helper'

describe 'pentester::kalihud' do
  let(:subject) do
    ChefSpec::SoloRunner
      .new(platform: 'debian',
           version: '8.0') do |node|
    end.converge(described_recipe)
  end

  it 'installs package[bc]' do
    expect(subject).to install_package('bc')
  end

  it 'creates cookbook_file[/usr/local/bin/kalihud]' do
    expect(subject).to create_cookbook_file('/usr/local/bin/kalihud')
      .with(owner: 'root',
            group: 'root',
            mode: '0755',
            source: 'kalihud')
  end
end
